(()=>{"use strict";class e{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},i=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},s=async(s,o,l,a)=>{const n=i(a),r=n.publicKey||t.publicKey,c=n.blockHeadless||t.blockHeadless,d=n.storageProvider||t.storageProvider,m={...t.blockList,...n.blockList},y={...t.limitRate,...n.limitRate};if(c&&(e=>e.webdriver||!e.languages||0===e.languages.length)(navigator))return Promise.reject(new e(451,"Unavailable For Headless Browser"));if(((e,t,i)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||"string"!=typeof i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(r,s,o),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(l),l&&((e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const i=(s=t,o=e.watchVariable,s instanceof FormData?s.get(o):s[o]);var s,o;return"string"==typeof i&&e.list.includes(i)})(m,l))return Promise.reject(new e(403,"Forbidden"));if(await(async(e,t,i)=>{if(!t.throttle||!i)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const s=t.id||e,o=await(async(e,t,i)=>{const s=Number(await i.get(e)||0);return t-Date.now()+s})(s,t.throttle,i);return o>0||(await i.set(s,Date.now().toString()),!1)})(location.pathname,y,d))return Promise.reject(new e(429,"Too Many Requests"));const u={lib_version:"4.4.1",user_id:r,service_id:s,template_id:o,template_params:l};return(async(i,s,o={})=>{const l=await fetch(t.origin+i,{method:"POST",headers:o,body:s}),a=await l.text(),n=new e(l.status,a);if(l.ok)return n;throw n})("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})};console.log("Cloud Closet App Initialized"),((e,s="https://api.emailjs.com")=>{if(!e)return;const o=i(e);t.publicKey=o.publicKey,t.blockHeadless=o.blockHeadless,t.storageProvider=o.storageProvider,t.blockList=o.blockList,t.limitRate=o.limitRate,t.origin=o.origin||s})("R_kC4pUewQbreY62b"),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("pricing-modal"),t=document.getElementById("close-pricing-modal"),i=document.querySelectorAll(".pricing-card button"),o=document.getElementById("pm-step-city"),l=document.getElementById("pm-step-email"),a=document.getElementById("pm-step-success"),n=document.getElementById("pm-city-form"),r=document.getElementById("pm-email-form"),c=document.getElementById("pm-city-input"),d=r?r.querySelector('input[type="email"]'):null,m=document.getElementById("pm-display-city-name");let y="";if(e){i.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),document.body.style.overflow="hidden",e.style.display="flex",e.style.opacity="1",e.style.visibility="visible",e.classList.add("active"),o&&(o.style.display="block"),l&&(l.style.display="none"),a&&(a.style.display="none"),n&&n.reset(),r&&r.reset(),y=""})});const u=()=>{document.body.style.overflow="",e.classList.remove("active"),e.style.display="none",e.style.opacity="",e.style.visibility=""};t&&t.addEventListener("click",u),e.addEventListener("click",t=>{t.target===e&&u()}),n&&n.addEventListener("submit",e=>{e.preventDefault(),y=c.value,m&&(m.textContent=y),o.style.display="none",l.style.display="block"}),r&&r.addEventListener("submit",e=>{e.preventDefault();const t=d.value,i=r.querySelector("button"),o=i.innerText;i.innerText="Sending...",i.disabled=!0,s("service_qt34cge","template_krgxu27",{city:y,user_email:t,message:"New waitlist request for Cloud Closet"}).then(()=>{console.log("SUCCESS!"),l.style.display="none",a.style.display="block",i.innerText=o,i.disabled=!1},e=>{console.log("FAILED...",e),alert("Sorry, something went wrong. Please try again."),i.innerText=o,i.disabled=!1})})}const u=document.getElementById("city-modal"),p=u?u.querySelector(".close-modal"):null,g=document.getElementById("waiting-list-form"),b=document.getElementById("confirm-city-btn"),h=document.getElementById("modal-step-1"),v=document.getElementById("modal-success");if(u&&g){const e=()=>{document.body.style.overflow="",u.classList.remove("active"),u.style.display="none"};g.addEventListener("submit",e=>{e.preventDefault(),document.body.style.overflow="hidden",u.classList.add("active"),u.style.display="flex",h&&(h.style.display="block"),v&&(v.style.display="none")}),p&&p.addEventListener("click",e),b&&b.addEventListener("click",()=>{h&&(h.style.display="none"),v&&(v.style.display="block")}),u.addEventListener("click",t=>{t.target===u&&e()})}document.querySelectorAll(".faq-question").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement,i=t.querySelector(".faq-answer");document.querySelectorAll(".faq-item").forEach(e=>{e!==t&&e.classList.contains("active")&&(e.classList.remove("active"),e.querySelector(".faq-answer").style.maxHeight=null)}),t.classList.toggle("active"),t.classList.contains("active")?i.style.maxHeight=i.scrollHeight+"px":i.style.maxHeight=null})})})})();